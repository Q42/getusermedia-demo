<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
      <link rel="stylesheet" href="styles/c64.css">
      <link rel="stylesheet" href="styles/main.css">
        <style>
        .title {
          left: 2048px;
        }
        </style>
    <script src="scripts/vendor/modernizr.min.js"></script>
  </head>
  <body class="screen-border">
    <div class="container">
      <div class="hero-unit screen-main">
          <h1 class="title" data-role="signal">We get signal!</h1>
          <video class="mirror" data-role="video"></video>
          <div id="dest-placeholder"></div>
     </div>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="scripts/vendor/jquery.min.js"><\/script>')</script>
    <script src="scripts/vendor/dat.gui.min.js"></script>
    <script src="components/dataroles.js/dataroles.min.js"></script>
    <script src="scripts/dashboard.js"></script>


    <script type="text/javascript">
        var $video = $.findByRole("video")
            video = $video[0];

        navigator.getMedia = navigator.getUserMedia ||
          navigator.webkitGetUserMedia ||
          navigator.mozGetUserMedia ||
          navigator.msGetUserMedia; // yeah right

        navigator.getMedia({video: true}, onSuccess, onError);

        function onSuccess(localMediaStream){
          $.findByRole("signal")
            .css("left" , 640)
            .animate({ left : 82} , 1000);

          var url = window.URL || window.webkitURL;
          video.src = url.createObjectURL(localMediaStream);
          video.play();
        }

        function onError(msg) {
          console.error(msg);
        }

        // you can control settings via the dashboard
        new Dashboard({ mirror : true });

    </script>
  </body>
</html>
